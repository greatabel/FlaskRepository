from flask import Flask
from flask import request


app = Flask(__name__)
app.config['DEBUG'] = True


page_header = """
<!doctype html>
<html>
  <head>
    <!-- Internal game scripts/styles, mostly boring stuff -->
    <script src="/static/game-frame.js"></script>
    <link rel="stylesheet" href="/static/game-frame-styles.css" />
  </head>
 
  <body id="level1">
    <img src="/static/logos/level1.png">
      <div>
"""
 
page_footer = """
    </div>
  </body>
</html>
"""

main_page_markup = """
<form action="" method="GET">
  <input id="query" name="query" value="Enter query here..."
    onfocus="this.value=''">
  <input id="button" type="submit" value="Search">
</form>
"""

@app.route('/L1')
def L1():
    # self.response.headers.add_header("X-XSS-Protection", "0")

    if not request.args.get('query'):
      # Show main search page
      return page_header + main_page_markup + page_footer
    else:
      query = request.args.get('query', '[empty]')
       
      # Our search engine broke, we found no results :-(
      message = "Sorry, no results were found for <b>" + query + "</b>."
      message += " <a href='?'>Try again</a>."
      return page_header + message + page_footer


if __name__ == '__main__':
    app.run()